                        .module main.c
                        .area text(rom, con, rel)
 0000                   .dbfile source\main.c
                        .area data(ram, con, rel)
 0000                   .dbfile source\main.c
 0000           _ADC_Values::
 0000                   .blkb 2
                        .area idata
 0000 0000              .word 0
                        .area data(ram, con, rel)
 0002                   .dbfile source\main.c
 0002                   .blkb 6
                        .area idata
 0002 000000000000      .byte 0,0,0,0,0,0
                        .area data(ram, con, rel)
 0008                   .dbfile source\main.c
 0008                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0008                   .dbsym e ADC_Values _ADC_Values A[8:4]i
 0008           _ADC_Values_0::
 0008                   .blkb 2
                        .area idata
 0008 0000              .word 0
                        .area data(ram, con, rel)
 000A                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 000A                   .blkb 6
                        .area idata
 000A 000000000000      .byte 0,0,0,0,0,0
                        .area data(ram, con, rel)
 0010                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0010                   .dbsym e ADC_Values_0 _ADC_Values_0 A[8:4]i
 0010           _ADC_Ready::
 0010                   .blkb 1
                        .area idata
 0010 00                .byte 0
                        .area data(ram, con, rel)
 0011                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0011                   .dbsym e ADC_Ready _ADC_Ready c
 0011           _Key_Flags::
 0011                   .blkb 1
                        .area idata
 0011 00                .byte 0
                        .area data(ram, con, rel)
 0012                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0012                   .dbsym e Key_Flags _Key_Flags c
 0012           _packet::
 0012                   .blkb 1
                        .area idata
 0012 55                .byte 85
                        .area data(ram, con, rel)
 0013                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0013                   .blkb 1
                        .area idata
 0013 00                .byte 0
                        .area data(ram, con, rel)
 0014                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0014                   .blkb 1
                        .area idata
 0014 00                .byte 0
                        .area data(ram, con, rel)
 0015                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0015                   .blkb 1
                        .area idata
 0015 00                .byte 0
                        .area data(ram, con, rel)
 0016                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0016                   .blkb 1
                        .area idata
 0016 00                .byte 0
                        .area data(ram, con, rel)
 0017                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0017                   .blkb 1
                        .area idata
 0017 00                .byte 0
                        .area data(ram, con, rel)
 0018                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0018                   .blkb 1
                        .area idata
 0018 00                .byte 0
                        .area data(ram, con, rel)
 0019                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0019                   .blkb 1
                        .area idata
 0019 00                .byte 0
                        .area data(ram, con, rel)
 001A                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 001A                   .blkb 1
                        .area idata
 001A 00                .byte 0
                        .area data(ram, con, rel)
 001B                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 001B                   .blkb 1
                        .area idata
 001B 00                .byte 0
                        .area data(ram, con, rel)
 001C                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 001C                   .blkb 1
                        .area idata
 001C 00                .byte 0
                        .area data(ram, con, rel)
 001D                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 001D                   .blkb 1
                        .area idata
 001D 00                .byte 0
                        .area data(ram, con, rel)
 001E                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 001E                   .blkb 1
                        .area idata
 001E 00                .byte 0
                        .area data(ram, con, rel)
 001F                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 001F                   .blkb 1
                        .area idata
 001F 00                .byte 0
                        .area data(ram, con, rel)
 0020                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0020                   .blkb 1
                        .area idata
 0020 00                .byte 0
                        .area data(ram, con, rel)
 0021                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0021                   .blkb 1
                        .area idata
 0021 00                .byte 0
                        .area data(ram, con, rel)
 0022                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0022                   .blkb 1
                        .area idata
 0022 00                .byte 0
                        .area data(ram, con, rel)
 0023                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0023                   .blkb 1
                        .area idata
 0023 00                .byte 0
                        .area data(ram, con, rel)
 0024                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0024                   .blkb 1
                        .area idata
 0024 00                .byte 0
                        .area data(ram, con, rel)
 0025                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0025                   .blkb 1
                        .area idata
 0025 00                .byte 0
                        .area data(ram, con, rel)
 0026                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0026                   .blkb 1
                        .area idata
 0026 00                .byte 0
                        .area data(ram, con, rel)
 0027                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0027                   .blkb 1
                        .area idata
 0027 FF                .byte 255
                        .area data(ram, con, rel)
 0028                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0028                   .dbstruct 0 22 .1
 0028                   .dbfield 0 header c
 0028                   .dbfield 1 adc0H c
 0028                   .dbfield 2 adc0L c
 0028                   .dbfield 3 adc1H c
 0028                   .dbfield 4 adc1L c
 0028                   .dbfield 5 adc2H c
 0028                   .dbfield 6 adc2L c
 0028                   .dbfield 7 adc3H c
 0028                   .dbfield 8 adc3L c
 0028                   .dbfield 9 adc00H c
 0028                   .dbfield 10 adc00L c
 0028                   .dbfield 11 adc10H c
 0028                   .dbfield 12 adc10L c
 0028                   .dbfield 13 adc20H c
 0028                   .dbfield 14 adc20L c
 0028                   .dbfield 15 adc30H c
 0028                   .dbfield 16 adc30L c
 0028                   .dbfield 17 LH c
 0028                   .dbfield 18 LL c
 0028                   .dbfield 19 QH c
 0028                   .dbfield 20 QL c
 0028                   .dbfield 21 footer c
 0028                   .dbend
 0028                   .dbsym e packet _packet S[.1]
                        .area text(rom, con, rel)
 0000                   .dbfile F:\daima\AVR\ATmega16\4channl_adc\dianganceliang\source\main.c
 0000                   .dbfunc e Delay_ms _Delay_ms fV
 0000           ;              i -> R20,R21
 0000           ;              j -> R22,R23
 0000           ;             ms -> R16,R17
                        .even
 0000           _Delay_ms::
 0000 0E940000          xcall push_xgsetF000
 0004                   .dbline -1
 0004                   .dbline 19
 0004           ; #include "main.h"
 0004           ; #include "uart.h"
 0004           ; #include "adc.h"
 0004           ; #include "keys.h"
 0004           ; 
 0004           ; 
 0004           ; // 全局变量定义
 0004           ; #pragma data:data  // 将变量放在数据段
 0004           ; volatile unsigned int ADC_Values[4] = {0};
 0004           ; volatile unsigned int ADC_Values_0[4] = {0};
 0004           ; volatile unsigned char ADC_Ready = 0;
 0004           ; 
 0004           ; unsigned char Key_Flags = FLAG_NONE;
 0004           ; 
 0004           ; DataPacket packet = {0x55,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0xFF};
 0004           ; #pragma data:data
 0004           ; 
 0004           ; // 简单的延时函数
 0004           ; void Delay_ms(unsigned int ms) {
 0004                   .dbline 21
 0004           ;     unsigned int i, j;
 0004           ;     for(i = 0; i < ms; i++) {
 0004 4427              clr R20
 0006 5527              clr R21
 0008 0CC0              xjmp L6
 000A           L3:
 000A                   .dbline 21
 000A                   .dbline 22
 000A           ;         for(j = 0; j < 1140; j++) {  // 16MHz时钟下的粗略延时
 000A 6627              clr R22
 000C 7727              clr R23
 000E 03C0              xjmp L10
 0010           L7:
 0010                   .dbline 22
 0010                   .dbline 23
 0010           ;             asm("nop");
 0010 0000              nop
 0012                   .dbline 24
 0012           ;         }
 0012           L8:
 0012                   .dbline 22
 0012 6F5F              subi R22,255  ; offset = 1
 0014 7F4F              sbci R23,255
 0016           L10:
 0016                   .dbline 22
 0016 6437              cpi R22,116
 0018 E4E0              ldi R30,4
 001A 7E07              cpc R23,R30
 001C C8F3              brlo L7
 001E           X0:
 001E                   .dbline 25
 001E           ;     }
 001E           L4:
 001E                   .dbline 21
 001E 4F5F              subi R20,255  ; offset = 1
 0020 5F4F              sbci R21,255
 0022           L6:
 0022                   .dbline 21
 0022 4017              cp R20,R16
 0024 5107              cpc R21,R17
 0026 88F3              brlo L3
 0028           X1:
 0028                   .dbline -2
 0028           L2:
 0028                   .dbline 0 ; func end
 0028 0C940000          xjmp pop_xgsetF000
 002C                   .dbsym r i 20 i
 002C                   .dbsym r j 22 i
 002C                   .dbsym r ms 16 i
 002C                   .dbend
 002C                   .dbfunc e GPIO_Init _GPIO_Init fV
                        .even
 002C           _GPIO_Init::
 002C                   .dbline -1
 002C                   .dbline 29
 002C           ; }
 002C           ; 
 002C           ; 
 002C           ; void GPIO_Init(void) {
 002C                   .dbline 31
 002C           ;     // 将PD7设置为输出模式，其他位不变
 002C           ;     DDRD |= (1 << PD7);
 002C 8F9A              sbi 0x11,7
 002E                   .dbline 34
 002E           ;     
 002E           ;     // 将PD7初始化为低电平
 002E           ;     PORTD &= (1 << PD7);
 002E 82B3              in R24,0x12
 0030 8078              andi R24,128
 0032 82BB              out 0x12,R24
 0034                   .dbline -2
 0034           L11:
 0034                   .dbline 0 ; func end
 0034 0895              ret
 0036                   .dbend
 0036                   .dbfunc e main _main fI
                        .even
 0036           _main::
 0036                   .dbline -1
 0036                   .dbline 39
 0036           ; }
 0036           ; 
 0036           ; 
 0036           ; 
 0036           ; int main(void) {
 0036                   .dbline 41
 0036           ;     // 系统初始化
 0036           ;     System_Init();
 0036 29D0              xcall _System_Init
 0038 26C0              xjmp L14
 003A           L13:
 003A                   .dbline 46
 003A           ;     
 003A           ;     // 启动ADC连续采样
 003A           ;     //ADC_StartContinuousConversion();
 003A           ;    
 003A           ;     while(1) {
 003A                   .dbline 48
 003A           ;       
 003A           ;               Keys_Scan();
 003A 0E940000          xcall _Keys_Scan
 003E                   .dbline 55
 003E           ;         // 处理ADC数据
 003E           ;         
 003E           ;         
 003E           ;         // 发送数据包
 003E           ;        
 003E           ;         // 根据标志位处理数据
 003E           ;         if(Key_Flags & FLAG_OPEN_TEST) {
 003E 20901100          lds R2,_Key_Flags
 0042 20FE              sbrs R2,0
 0044 07C0              rjmp L16
 0046           X2:
 0046                   .dbline 55
 0046                   .dbline 58
 0046           ;             // 开路检测完成，可以发送数据等操作
 0046           ;             // 发送数据包
 0046           ;                       Process_ADC_Data();
 0046 29D0              xcall _Process_ADC_Data
 0048                   .dbline 59
 0048           ;             Key_Flags &= ~FLAG_OPEN_TEST;  // 清除标志位
 0048 80911100          lds R24,_Key_Flags
 004C 8E7F              andi R24,254
 004E 80931100          sts _Key_Flags,R24
 0052                   .dbline 60
 0052           ;                       Send_Data_Packet();
 0052 14D4              xcall _Send_Data_Packet
 0054                   .dbline 61
 0054           ;         }
 0054           L16:
 0054                   .dbline 63
 0054           ;         
 0054           ;         if(Key_Flags & FLAG_SHORT_TEST) {
 0054 20901100          lds R2,_Key_Flags
 0058 21FE              sbrs R2,1
 005A 07C0              rjmp L18
 005C           X3:
 005C                   .dbline 63
 005C                   .dbline 66
 005C           ;             // 短路检测完成，可以发送数据等操作
 005C           ;             // 发送数据包
 005C           ;                       Process_ADC_Data();
 005C 1ED0              xcall _Process_ADC_Data
 005E                   .dbline 67
 005E           ;             Key_Flags &= ~FLAG_SHORT_TEST;  // 清除标志位
 005E 80911100          lds R24,_Key_Flags
 0062 8D7F              andi R24,253
 0064 80931100          sts _Key_Flags,R24
 0068                   .dbline 68
 0068           ;                       Send_Data_Packet();
 0068 09D4              xcall _Send_Data_Packet
 006A                   .dbline 69
 006A           ;         }
 006A           L18:
 006A                   .dbline 71
 006A           ;               
 006A           ;               if(Key_Flags & FLAG_START) {
 006A 20901100          lds R2,_Key_Flags
 006E 22FE              sbrs R2,2
 0070 07C0              rjmp L20
 0072           X4:
 0072                   .dbline 71
 0072                   .dbline 73
 0072           ;             
 0072           ;                       Process_ADC_Data();
 0072 13D0              xcall _Process_ADC_Data
 0074                   .dbline 74
 0074           ;             Key_Flags &= ~FLAG_START;  // 清除标志位
 0074 80911100          lds R24,_Key_Flags
 0078 8B7F              andi R24,251
 007A 80931100          sts _Key_Flags,R24
 007E                   .dbline 75
 007E           ;                       Send_Data_Packet();
 007E FED3              xcall _Send_Data_Packet
 0080                   .dbline 76
 0080           ;         }
 0080           L20:
 0080                   .dbline 79
 0080           ;               //Send_Data_Packet();
 0080           ;         // 延时，控制发送速率（约10Hz）
 0080           ;         Delay_ms(100);
 0080 04E6              ldi R16,100
 0082 10E0              ldi R17,0
 0084 BDDF              xcall _Delay_ms
 0086                   .dbline 80
 0086           ;     }
 0086           L14:
 0086                   .dbline 46
 0086 D9CF              xjmp L13
 0088           X5:
 0088                   .dbline -2
 0088           L12:
 0088                   .dbline 0 ; func end
 0088 0895              ret
 008A                   .dbend
 008A                   .dbfunc e System_Init _System_Init fV
                        .even
 008A           _System_Init::
 008A                   .dbline -1
 008A                   .dbline 84
 008A           ;       return 0;
 008A           ; }
 008A           ; 
 008A           ; void System_Init(void) {
 008A                   .dbline 86
 008A           ;     // 初始化串口
 008A           ;       Keys_Init();
 008A 0E940000          xcall _Keys_Init
 008E                   .dbline 87
 008E           ;     UART_Init();
 008E 0E940000          xcall _UART_Init
 0092                   .dbline 90
 0092           ;     //GPIO_Init();
 0092           ;     // 初始化ADC
 0092           ;     ADC_Init();
 0092 0E940000          xcall _ADC_Init
 0096                   .dbline 93
 0096           ;     
 0096           ;     // 全局中断使能
 0096           ;     asm("sei");
 0096 7894              sei
 0098                   .dbline -2
 0098           L22:
 0098                   .dbline 0 ; func end
 0098 0895              ret
 009A                   .dbend
 009A                   .dbfunc e Process_ADC_Data _Process_ADC_Data fV
                        .even
 009A           _Process_ADC_Data::
 009A AA92              st -y,R10
 009C BA92              st -y,R11
 009E                   .dbline -1
 009E                   .dbline 96
 009E           ; }
 009E           ; 
 009E           ; void Process_ADC_Data(void) {
 009E                   .dbline 99
 009E           ;     
 009E           ;         
 009E           ;         packet.adc0H = (unsigned int)ADC_Values[0]>>8;   //Iim
 009E 20900000          lds R2,_ADC_Values
 00A2 30900100          lds R3,_ADC_Values+1
 00A6 232C              mov R2,R3
 00A8 3324              clr R3
 00AA 20921300          sts _packet+1,R2
 00AE                   .dbline 100
 00AE           ;         packet.adc0L = (unsigned char)ADC_Values[0];
 00AE 20900000          lds R2,_ADC_Values
 00B2 30900100          lds R3,_ADC_Values+1
 00B6 20921400          sts _packet+2,R2
 00BA                   .dbline 101
 00BA           ;         packet.adc1H = (unsigned int)ADC_Values[1]>>8;          //Ire
 00BA 20900200          lds R2,_ADC_Values+2
 00BE 30900300          lds R3,_ADC_Values+2+1
 00C2 232C              mov R2,R3
 00C4 3324              clr R3
 00C6 20921500          sts _packet+3,R2
 00CA                   .dbline 102
 00CA           ;         packet.adc1L = (unsigned char)ADC_Values[1];
 00CA 20900200          lds R2,_ADC_Values+2
 00CE 30900300          lds R3,_ADC_Values+2+1
 00D2 20921600          sts _packet+4,R2
 00D6                   .dbline 103
 00D6           ;               packet.adc2H = (unsigned int)ADC_Values[2]>>8;    //Uim
 00D6 20900400          lds R2,_ADC_Values+4
 00DA 30900500          lds R3,_ADC_Values+4+1
 00DE 232C              mov R2,R3
 00E0 3324              clr R3
 00E2 20921700          sts _packet+5,R2
 00E6                   .dbline 104
 00E6           ;         packet.adc2L = (unsigned char)ADC_Values[2];
 00E6 20900400          lds R2,_ADC_Values+4
 00EA 30900500          lds R3,_ADC_Values+4+1
 00EE 20921800          sts _packet+6,R2
 00F2                   .dbline 105
 00F2           ;         packet.adc3H = (unsigned int)ADC_Values[3]>>8;          //Ure
 00F2 20900600          lds R2,_ADC_Values+6
 00F6 30900700          lds R3,_ADC_Values+6+1
 00FA 232C              mov R2,R3
 00FC 3324              clr R3
 00FE 20921900          sts _packet+7,R2
 0102                   .dbline 106
 0102           ;         packet.adc3L = (unsigned char)ADC_Values[3];
 0102 20900600          lds R2,_ADC_Values+6
 0106 30900700          lds R3,_ADC_Values+6+1
 010A 20921A00          sts _packet+8,R2
 010E                   .dbline 108
 010E           ;               
 010E           ;               packet.adc00H = (unsigned int)(ADC_Values_0[0])>>8;   //Iim
 010E 20900800          lds R2,_ADC_Values_0
 0112 30900900          lds R3,_ADC_Values_0+1
 0116 232C              mov R2,R3
 0118 3324              clr R3
 011A 20921B00          sts _packet+9,R2
 011E                   .dbline 109
 011E           ;         packet.adc00L = (unsigned char)(ADC_Values_0[0]);
 011E 20900800          lds R2,_ADC_Values_0
 0122 30900900          lds R3,_ADC_Values_0+1
 0126 20921C00          sts _packet+10,R2
 012A                   .dbline 110
 012A           ;         packet.adc10H = (unsigned int)(ADC_Values_0[1])>>8;     //Ire
 012A 20900A00          lds R2,_ADC_Values_0+2
 012E 30900B00          lds R3,_ADC_Values_0+2+1
 0132 232C              mov R2,R3
 0134 3324              clr R3
 0136 20921D00          sts _packet+11,R2
 013A                   .dbline 111
 013A           ;         packet.adc10L = (unsigned char)(ADC_Values_0[1]);
 013A 20900A00          lds R2,_ADC_Values_0+2
 013E 30900B00          lds R3,_ADC_Values_0+2+1
 0142 20921E00          sts _packet+12,R2
 0146                   .dbline 112
 0146           ;               packet.adc20H = (unsigned int)(ADC_Values_0[2])>>8;       //Uim
 0146 20900C00          lds R2,_ADC_Values_0+4
 014A 30900D00          lds R3,_ADC_Values_0+4+1
 014E 232C              mov R2,R3
 0150 3324              clr R3
 0152 20921F00          sts _packet+13,R2
 0156                   .dbline 113
 0156           ;         packet.adc20L = (unsigned char)(ADC_Values_0[2]);
 0156 20900C00          lds R2,_ADC_Values_0+4
 015A 30900D00          lds R3,_ADC_Values_0+4+1
 015E 20922000          sts _packet+14,R2
 0162                   .dbline 114
 0162           ;         packet.adc30H = (unsigned int)(ADC_Values_0[3])>>8;     //Ure
 0162 20900E00          lds R2,_ADC_Values_0+6
 0166 30900F00          lds R3,_ADC_Values_0+6+1
 016A 232C              mov R2,R3
 016C 3324              clr R3
 016E 20922100          sts _packet+15,R2
 0172                   .dbline 115
 0172           ;         packet.adc30L = (unsigned char)(ADC_Values_0[3]);
 0172 20900E00          lds R2,_ADC_Values_0+6
 0176 30900F00          lds R3,_ADC_Values_0+6+1
 017A 20922200          sts _packet+16,R2
 017E                   .dbline 117
 017E           ;         
 017E           ;               packet.LH = (unsigned int)get_L_val()>>8;   //Iim
 017E 14D3              xcall _get_L_val
 0180 1801              movw R2,R16
 0182 232C              mov R2,R3
 0184 3324              clr R3
 0186 20922300          sts _packet+17,R2
 018A                   .dbline 118
 018A           ;         packet.LL = (unsigned char)get_L_val();
 018A 0ED3              xcall _get_L_val
 018C 00932400          sts _packet+18,R16
 0190                   .dbline 119
 0190           ;         packet.QH = (unsigned int)get_Q_val()>>8;       //Ire
 0190 40D3              xcall _get_Q_val
 0192 5801              movw R10,R16
 0194 1501              movw R2,R10
 0196 232C              mov R2,R3
 0198 3324              clr R3
 019A 20922500          sts _packet+19,R2
 019E                   .dbline 120
 019E           ;         packet.QL = (unsigned char)get_Q_val();
 019E 39D3              xcall _get_Q_val
 01A0 5801              movw R10,R16
 01A2 A0922600          sts _packet+20,R10
 01A6                   .dbline -2
 01A6           L23:
 01A6                   .dbline 0 ; func end
 01A6 B990              ld R11,y+
 01A8 A990              ld R10,y+
 01AA 0895              ret
 01AC                   .dbend
 01AC                   .dbfunc e L_Val_Calculation _L_Val_Calculation fi
 01AC           ;              R -> y+32
 01AC           ;              Q -> y+28
 01AC           ;              k -> y+24
 01AC           ;              b -> y+20
 01AC           ;              a -> y+16
 01AC           ;              L -> y+12
 01AC           ;              d -> y+8
 01AC           ;              c -> y+4
 01AC           ;              X -> y+0
 01AC           ;           Iim0 -> R10,R11
 01AC           ;           Ire0 -> R14,R15
 01AC           ;           Uim0 -> y+50
 01AC           ;           Ure0 -> y+48
 01AC           ;            Iim -> y+46
 01AC           ;            Ire -> y+44
 01AC           ;            Uim -> y+42
 01AC           ;            Ure -> R12,R13
                        .even
 01AC           _L_Val_Calculation::
 01AC 3A93              st -y,r19
 01AE 2A93              st -y,r18
 01B0 0E940000          xcall push_xgset00FC
 01B4 6801              movw R12,R16
 01B6 A497              sbiw R28,36
 01B8 ECA8              ldd R14,y+52
 01BA FDA8              ldd R15,y+53
 01BC AEA8              ldd R10,y+54
 01BE BFA8              ldd R11,y+55
 01C0                   .dbline -1
 01C0                   .dbline 126
 01C0           ;               
 01C0           ;               
 01C0           ; }
 01C0           ; //计算电感值
 01C0           ; unsigned int L_Val_Calculation(unsigned int Ure,unsigned int Uim,unsigned int Ire,unsigned int Iim,unsigned int Ure0,unsigned int Uim0,unsigned int Ire0,unsigned int Iim0)
 01C0           ; {
 01C0                   .dbline 127
 01C0           ;         float a=1.f*Ure-Ure0;
 01C0 00E0              ldi R16,<L57
 01C2 10E0              ldi R17,>L57
 01C4 0E940000          xcall lpm32
 01C8 1801              movw R2,R16
 01CA 2901              movw R4,R18
 01CC 8601              movw R16,R12
 01CE 0E940000          xcall uint2fp
 01D2 3A93              st -y,R19
 01D4 2A93              st -y,R18
 01D6 1A93              st -y,R17
 01D8 0A93              st -y,R16
 01DA 8101              movw R16,R2
 01DC 9201              movw R18,R4
 01DE 0E940000          xcall fpmule2
 01E2 1801              movw R2,R16
 01E4 2901              movw R4,R18
 01E6 08A9              ldd R16,y+48
 01E8 19A9              ldd R17,y+49
 01EA 0E940000          xcall uint2fp
 01EE 3A93              st -y,R19
 01F0 2A93              st -y,R18
 01F2 1A93              st -y,R17
 01F4 0A93              st -y,R16
 01F6 8101              movw R16,R2
 01F8 9201              movw R18,R4
 01FA 0E940000          xcall fpsub2
 01FE 088B              std y+16,R16
 0200 198B              std y+17,R17
 0202 2A8B              std y+18,R18
 0204 3B8B              std y+19,R19
 0206                   .dbline 128
 0206           ;         float b=1.f*Uim-Uim0;
 0206 00E0              ldi R16,<L57
 0208 10E0              ldi R17,>L57
 020A 0E940000          xcall lpm32
 020E 1801              movw R2,R16
 0210 2901              movw R4,R18
 0212 0AA5              ldd R16,y+42
 0214 1BA5              ldd R17,y+43
 0216 0E940000          xcall uint2fp
 021A 3A93              st -y,R19
 021C 2A93              st -y,R18
 021E 1A93              st -y,R17
 0220 0A93              st -y,R16
 0222 8101              movw R16,R2
 0224 9201              movw R18,R4
 0226 0E940000          xcall fpmule2
 022A 1801              movw R2,R16
 022C 2901              movw R4,R18
 022E 0AA9              ldd R16,y+50
 0230 1BA9              ldd R17,y+51
 0232 0E940000          xcall uint2fp
 0236 3A93              st -y,R19
 0238 2A93              st -y,R18
 023A 1A93              st -y,R17
 023C 0A93              st -y,R16
 023E 8101              movw R16,R2
 0240 9201              movw R18,R4
 0242 0E940000          xcall fpsub2
 0246 0C8B              std y+20,R16
 0248 1D8B              std y+21,R17
 024A 2E8B              std y+22,R18
 024C 3F8B              std y+23,R19
 024E                   .dbline 129
 024E           ;         float c=1.f*Ire-Ire0;
 024E 00E0              ldi R16,<L57
 0250 10E0              ldi R17,>L57
 0252 0E940000          xcall lpm32
 0256 1801              movw R2,R16
 0258 2901              movw R4,R18
 025A 0CA5              ldd R16,y+44
 025C 1DA5              ldd R17,y+45
 025E 0E940000          xcall uint2fp
 0262 3A93              st -y,R19
 0264 2A93              st -y,R18
 0266 1A93              st -y,R17
 0268 0A93              st -y,R16
 026A 8101              movw R16,R2
 026C 9201              movw R18,R4
 026E 0E940000          xcall fpmule2
 0272 1801              movw R2,R16
 0274 2901              movw R4,R18
 0276 8701              movw R16,R14
 0278 0E940000          xcall uint2fp
 027C 3A93              st -y,R19
 027E 2A93              st -y,R18
 0280 1A93              st -y,R17
 0282 0A93              st -y,R16
 0284 8101              movw R16,R2
 0286 9201              movw R18,R4
 0288 0E940000          xcall fpsub2
 028C 0C83              std y+4,R16
 028E 1D83              std y+5,R17
 0290 2E83              std y+6,R18
 0292 3F83              std y+7,R19
 0294                   .dbline 130
 0294           ;         float d=1.f*Iim-Iim0;
 0294 00E0              ldi R16,<L57
 0296 10E0              ldi R17,>L57
 0298 0E940000          xcall lpm32
 029C 1801              movw R2,R16
 029E 2901              movw R4,R18
 02A0 0EA5              ldd R16,y+46
 02A2 1FA5              ldd R17,y+47
 02A4 0E940000          xcall uint2fp
 02A8 3A93              st -y,R19
 02AA 2A93              st -y,R18
 02AC 1A93              st -y,R17
 02AE 0A93              st -y,R16
 02B0 8101              movw R16,R2
 02B2 9201              movw R18,R4
 02B4 0E940000          xcall fpmule2
 02B8 1801              movw R2,R16
 02BA 2901              movw R4,R18
 02BC 8501              movw R16,R10
 02BE 0E940000          xcall uint2fp
 02C2 3A93              st -y,R19
 02C4 2A93              st -y,R18
 02C6 1A93              st -y,R17
 02C8 0A93              st -y,R16
 02CA 8101              movw R16,R2
 02CC 9201              movw R18,R4
 02CE 0E940000          xcall fpsub2
 02D2 0887              std y+8,R16
 02D4 1987              std y+9,R17
 02D6 2A87              std y+10,R18
 02D8 3B87              std y+11,R19
 02DA                   .dbline 131
 02DA           ;         float k=300.0f/503;
 02DA 00E0              ldi R16,<L58
 02DC 10E0              ldi R17,>L58
 02DE 0E940000          xcall lpm32
 02E2 088F              std y+24,R16
 02E4 198F              std y+25,R17
 02E6 2A8F              std y+26,R18
 02E8 3B8F              std y+27,R19
 02EA                   .dbline 132
 02EA           ;         float Q=0.f;
 02EA 00E0              ldi R16,<L59
 02EC 10E0              ldi R17,>L59
 02EE 0E940000          xcall lpm32
 02F2 0C8F              std y+28,R16
 02F4 1D8F              std y+29,R17
 02F6 2E8F              std y+30,R18
 02F8 3F8F              std y+31,R19
 02FA                   .dbline 133
 02FA           ;         float L=0.f;
 02FA 00E0              ldi R16,<L59
 02FC 10E0              ldi R17,>L59
 02FE 0E940000          xcall lpm32
 0302 0C87              std y+12,R16
 0304 1D87              std y+13,R17
 0306 2E87              std y+14,R18
 0308 3F87              std y+15,R19
 030A                   .dbline 134
 030A           ;         float R=0.f;
 030A 00E0              ldi R16,<L59
 030C 10E0              ldi R17,>L59
 030E 0E940000          xcall lpm32
 0312 08A3              std y+32,R16
 0314 19A3              std y+33,R17
 0316 2AA3              std y+34,R18
 0318 3BA3              std y+35,R19
 031A                   .dbline 135
 031A           ;         float X=0.f;
 031A 00E0              ldi R16,<L59
 031C 10E0              ldi R17,>L59
 031E 0E940000          xcall lpm32
 0322 0883              std y+0,R16
 0324 1983              std y+1,R17
 0326 2A83              std y+2,R18
 0328 3B83              std y+3,R19
 032A                   .dbline 140
 032A           ;         //Q=(b*c-a*d)/(a*c+b*d);
 032A           ;        
 032A           ;         //R = (a*c+b*d)/(c*c+d*d);
 032A           ;         //R = 169.230975*R*R*R-30.520493*R*R+2.357366*R;
 032A           ;         X = (b*c-a*d)/(c*c+d*d)*k;
 032A 0C89              ldd R16,y+20
 032C 1D89              ldd R17,y+21
 032E 2E89              ldd R18,y+22
 0330 3F89              ldd R19,y+23
 0332 CE01              movw R24,R28
 0334 0496              adiw R24,4
 0336 9A93              st -y,R25
 0338 8A93              st -y,R24
 033A 0E940000          xcall fpmule1
 033E 1801              movw R2,R16
 0340 2901              movw R4,R18
 0342 0889              ldd R16,y+16
 0344 1989              ldd R17,y+17
 0346 2A89              ldd R18,y+18
 0348 3B89              ldd R19,y+19
 034A CE01              movw R24,R28
 034C 0896              adiw R24,8
 034E 9A93              st -y,R25
 0350 8A93              st -y,R24
 0352 0E940000          xcall fpmule1x
 0356 8101              movw R16,R2
 0358 9201              movw R18,R4
 035A 0E940000          xcall fpsub2
 035E 1801              movw R2,R16
 0360 2901              movw R4,R18
 0362 0C81              ldd R16,y+4
 0364 1D81              ldd R17,y+5
 0366 2E81              ldd R18,y+6
 0368 3F81              ldd R19,y+7
 036A CE01              movw R24,R28
 036C 0496              adiw R24,4
 036E 9A93              st -y,R25
 0370 8A93              st -y,R24
 0372 0E940000          xcall fpmule1
 0376 3801              movw R6,R16
 0378 4901              movw R8,R18
 037A 0885              ldd R16,y+8
 037C 1985              ldd R17,y+9
 037E 2A85              ldd R18,y+10
 0380 3B85              ldd R19,y+11
 0382 CE01              movw R24,R28
 0384 0896              adiw R24,8
 0386 9A93              st -y,R25
 0388 8A93              st -y,R24
 038A 0E940000          xcall fpmule1x
 038E 8301              movw R16,R6
 0390 9401              movw R18,R8
 0392 0E940000          xcall fpadd2x
 0396 8101              movw R16,R2
 0398 9201              movw R18,R4
 039A 0E940000          xcall fpdiv2
 039E CE01              movw R24,R28
 03A0 4896              adiw R24,24
 03A2 9A93              st -y,R25
 03A4 8A93              st -y,R24
 03A6 0E940000          xcall fpmule1
 03AA 0883              std y+0,R16
 03AC 1983              std y+1,R17
 03AE 2A83              std y+2,R18
 03B0 3B83              std y+3,R19
 03B2                   .dbline 141
 03B2           ;         X = 0.939445*X+0.003161;
 03B2 00E0              ldi R16,<L60
 03B4 10E0              ldi R17,>L60
 03B6 0E940000          xcall lpm32
 03BA CE01              movw R24,R28
 03BC 9A93              st -y,R25
 03BE 8A93              st -y,R24
 03C0 0E940000          xcall fpmule1
 03C4 1801              movw R2,R16
 03C6 2901              movw R4,R18
 03C8 00E0              ldi R16,<L61
 03CA 10E0              ldi R17,>L61
 03CC 0E940000          xcall lpm32
 03D0 3A93              st -y,R19
 03D2 2A93              st -y,R18
 03D4 1A93              st -y,R17
 03D6 0A93              st -y,R16
 03D8 8101              movw R16,R2
 03DA 9201              movw R18,R4
 03DC 0E940000          xcall fpadd2
 03E0 0883              std y+0,R16
 03E2 1983              std y+1,R17
 03E4 2A83              std y+2,R18
 03E6 3B83              std y+3,R19
 03E8                   .dbline 143
 03E8           ;         
 03E8           ;         L = X*1000.f*1000.f/(2*3.1415*1010.f);
 03E8 00E0              ldi R16,<L62
 03EA 10E0              ldi R17,>L62
 03EC 0E940000          xcall lpm32
 03F0 1801              movw R2,R16
 03F2 2901              movw R4,R18
 03F4 00E0              ldi R16,<L62
 03F6 10E0              ldi R17,>L62
 03F8 0E940000          xcall lpm32
 03FC CE01              movw R24,R28
 03FE 9A93              st -y,R25
 0400 8A93              st -y,R24
 0402 0E940000          xcall fpmule1x
 0406 8101              movw R16,R2
 0408 9201              movw R18,R4
 040A 0E940000          xcall fpmule2
 040E 1801              movw R2,R16
 0410 2901              movw R4,R18
 0412 00E0              ldi R16,<L63
 0414 10E0              ldi R17,>L63
 0416 0E940000          xcall lpm32
 041A 3A93              st -y,R19
 041C 2A93              st -y,R18
 041E 1A93              st -y,R17
 0420 0A93              st -y,R16
 0422 8101              movw R16,R2
 0424 9201              movw R18,R4
 0426 0E940000          xcall fpdiv2
 042A 0C87              std y+12,R16
 042C 1D87              std y+13,R17
 042E 2E87              std y+14,R18
 0430 3F87              std y+15,R19
 0432                   .dbline 145
 0432           ;        
 0432           ;         return L*100;
 0432 00E0              ldi R16,<L64
 0434 10E0              ldi R17,>L64
 0436 0E940000          xcall lpm32
 043A CE01              movw R24,R28
 043C 0C96              adiw R24,12
 043E 9A93              st -y,R25
 0440 8A93              st -y,R24
 0442 0E940000          xcall fpmule1
 0446 0E940000          xcall fpint
 044A                   .dbline -2
 044A           L56:
 044A                   .dbline 0 ; func end
 044A A496              adiw R28,36
 044C 0E940000          xcall pop_xgset00FC
 0450 2296              adiw R28,2
 0452 0895              ret
 0454                   .dbsym l R 32 D
 0454                   .dbsym l Q 28 D
 0454                   .dbsym l k 24 D
 0454                   .dbsym l b 20 D
 0454                   .dbsym l a 16 D
 0454                   .dbsym l L 12 D
 0454                   .dbsym l d 8 D
 0454                   .dbsym l c 4 D
 0454                   .dbsym l X 0 D
 0454                   .dbsym r Iim0 10 i
 0454                   .dbsym r Ire0 14 i
 0454                   .dbsym l Uim0 50 i
 0454                   .dbsym l Ure0 48 i
 0454                   .dbsym l Iim 46 i
 0454                   .dbsym l Ire 44 i
 0454                   .dbsym l Uim 42 i
 0454                   .dbsym r Ure 12 i
 0454                   .dbend
 0454                   .dbfunc e Q_Val_Calculation _Q_Val_Calculation fi
 0454           ;              Q -> y+28
 0454           ;              k -> y+24
 0454           ;              b -> y+20
 0454           ;              a -> y+16
 0454           ;              X -> y+12
 0454           ;              R -> y+8
 0454           ;              d -> y+4
 0454           ;              c -> y+0
 0454           ;           Iim0 -> R10,R11
 0454           ;           Ire0 -> R14,R15
 0454           ;           Uim0 -> y+46
 0454           ;           Ure0 -> y+44
 0454           ;            Iim -> y+42
 0454           ;            Ire -> y+40
 0454           ;            Uim -> y+38
 0454           ;            Ure -> R12,R13
                        .even
 0454           _Q_Val_Calculation::
 0454 3A93              st -y,r19
 0456 2A93              st -y,r18
 0458 0E940000          xcall push_xgset00FC
 045C 6801              movw R12,R16
 045E A097              sbiw R28,32
 0460 E8A8              ldd R14,y+48
 0462 F9A8              ldd R15,y+49
 0464 AAA8              ldd R10,y+50
 0466 BBA8              ldd R11,y+51
 0468                   .dbline -1
 0468                   .dbline 151
 0468           ; }
 0468           ; 
 0468           ; 
 0468           ; //计算Q值
 0468           ; unsigned int Q_Val_Calculation(unsigned int Ure,unsigned int Uim,unsigned int Ire,unsigned int Iim,unsigned int Ure0,unsigned int Uim0,unsigned int Ire0,unsigned int Iim0)
 0468           ; {
 0468                   .dbline 152
 0468           ;         float a=1.f*Ure-Ure0;
 0468 00E0              ldi R16,<L57
 046A 10E0              ldi R17,>L57
 046C 0E940000          xcall lpm32
 0470 1801              movw R2,R16
 0472 2901              movw R4,R18
 0474 8601              movw R16,R12
 0476 0E940000          xcall uint2fp
 047A 3A93              st -y,R19
 047C 2A93              st -y,R18
 047E 1A93              st -y,R17
 0480 0A93              st -y,R16
 0482 8101              movw R16,R2
 0484 9201              movw R18,R4
 0486 0E940000          xcall fpmule2
 048A 1801              movw R2,R16
 048C 2901              movw R4,R18
 048E 0CA5              ldd R16,y+44
 0490 1DA5              ldd R17,y+45
 0492 0E940000          xcall uint2fp
 0496 3A93              st -y,R19
 0498 2A93              st -y,R18
 049A 1A93              st -y,R17
 049C 0A93              st -y,R16
 049E 8101              movw R16,R2
 04A0 9201              movw R18,R4
 04A2 0E940000          xcall fpsub2
 04A6 088B              std y+16,R16
 04A8 198B              std y+17,R17
 04AA 2A8B              std y+18,R18
 04AC 3B8B              std y+19,R19
 04AE                   .dbline 153
 04AE           ;         float b=1.f*Uim-Uim0;
 04AE 00E0              ldi R16,<L57
 04B0 10E0              ldi R17,>L57
 04B2 0E940000          xcall lpm32
 04B6 1801              movw R2,R16
 04B8 2901              movw R4,R18
 04BA 0EA1              ldd R16,y+38
 04BC 1FA1              ldd R17,y+39
 04BE 0E940000          xcall uint2fp
 04C2 3A93              st -y,R19
 04C4 2A93              st -y,R18
 04C6 1A93              st -y,R17
 04C8 0A93              st -y,R16
 04CA 8101              movw R16,R2
 04CC 9201              movw R18,R4
 04CE 0E940000          xcall fpmule2
 04D2 1801              movw R2,R16
 04D4 2901              movw R4,R18
 04D6 0EA5              ldd R16,y+46
 04D8 1FA5              ldd R17,y+47
 04DA 0E940000          xcall uint2fp
 04DE 3A93              st -y,R19
 04E0 2A93              st -y,R18
 04E2 1A93              st -y,R17
 04E4 0A93              st -y,R16
 04E6 8101              movw R16,R2
 04E8 9201              movw R18,R4
 04EA 0E940000          xcall fpsub2
 04EE 0C8B              std y+20,R16
 04F0 1D8B              std y+21,R17
 04F2 2E8B              std y+22,R18
 04F4 3F8B              std y+23,R19
 04F6                   .dbline 154
 04F6           ;         float c=1.f*Ire-Ire0;
 04F6 00E0              ldi R16,<L57
 04F8 10E0              ldi R17,>L57
 04FA 0E940000          xcall lpm32
 04FE 1801              movw R2,R16
 0500 2901              movw R4,R18
 0502 08A5              ldd R16,y+40
 0504 19A5              ldd R17,y+41
 0506 0E940000          xcall uint2fp
 050A 3A93              st -y,R19
 050C 2A93              st -y,R18
 050E 1A93              st -y,R17
 0510 0A93              st -y,R16
 0512 8101              movw R16,R2
 0514 9201              movw R18,R4
 0516 0E940000          xcall fpmule2
 051A 1801              movw R2,R16
 051C 2901              movw R4,R18
 051E 8701              movw R16,R14
 0520 0E940000          xcall uint2fp
 0524 3A93              st -y,R19
 0526 2A93              st -y,R18
 0528 1A93              st -y,R17
 052A 0A93              st -y,R16
 052C 8101              movw R16,R2
 052E 9201              movw R18,R4
 0530 0E940000          xcall fpsub2
 0534 0883              std y+0,R16
 0536 1983              std y+1,R17
 0538 2A83              std y+2,R18
 053A 3B83              std y+3,R19
 053C                   .dbline 155
 053C           ;         float d=1.f*Iim-Iim0;
 053C 00E0              ldi R16,<L57
 053E 10E0              ldi R17,>L57
 0540 0E940000          xcall lpm32
 0544 1801              movw R2,R16
 0546 2901              movw R4,R18
 0548 0AA5              ldd R16,y+42
 054A 1BA5              ldd R17,y+43
 054C 0E940000          xcall uint2fp
 0550 3A93              st -y,R19
 0552 2A93              st -y,R18
 0554 1A93              st -y,R17
 0556 0A93              st -y,R16
 0558 8101              movw R16,R2
 055A 9201              movw R18,R4
 055C 0E940000          xcall fpmule2
 0560 1801              movw R2,R16
 0562 2901              movw R4,R18
 0564 8501              movw R16,R10
 0566 0E940000          xcall uint2fp
 056A 3A93              st -y,R19
 056C 2A93              st -y,R18
 056E 1A93              st -y,R17
 0570 0A93              st -y,R16
 0572 8101              movw R16,R2
 0574 9201              movw R18,R4
 0576 0E940000          xcall fpsub2
 057A 0C83              std y+4,R16
 057C 1D83              std y+5,R17
 057E 2E83              std y+6,R18
 0580 3F83              std y+7,R19
 0582                   .dbline 156
 0582           ;          float k=1.f*300/503;
 0582 00E0              ldi R16,<L58
 0584 10E0              ldi R17,>L58
 0586 0E940000          xcall lpm32
 058A 088F              std y+24,R16
 058C 198F              std y+25,R17
 058E 2A8F              std y+26,R18
 0590 3B8F              std y+27,R19
 0592                   .dbline 157
 0592           ;         float Q=0.f;
 0592 00E0              ldi R16,<L59
 0594 10E0              ldi R17,>L59
 0596 0E940000          xcall lpm32
 059A 0C8F              std y+28,R16
 059C 1D8F              std y+29,R17
 059E 2E8F              std y+30,R18
 05A0 3F8F              std y+31,R19
 05A2                   .dbline 158
 05A2           ;         float R=0.f;
 05A2 00E0              ldi R16,<L59
 05A4 10E0              ldi R17,>L59
 05A6 0E940000          xcall lpm32
 05AA 0887              std y+8,R16
 05AC 1987              std y+9,R17
 05AE 2A87              std y+10,R18
 05B0 3B87              std y+11,R19
 05B2                   .dbline 159
 05B2           ;         float X=0.f;
 05B2 00E0              ldi R16,<L59
 05B4 10E0              ldi R17,>L59
 05B6 0E940000          xcall lpm32
 05BA 0C87              std y+12,R16
 05BC 1D87              std y+13,R17
 05BE 2E87              std y+14,R18
 05C0 3F87              std y+15,R19
 05C2                   .dbline 161
 05C2           ;         //Q=(b*c-a*d)/(a*c+b*d);
 05C2           ;         R = (a*c+b*d)/(c*c+d*d)*k;
 05C2 0889              ldd R16,y+16
 05C4 1989              ldd R17,y+17
 05C6 2A89              ldd R18,y+18
 05C8 3B89              ldd R19,y+19
 05CA CE01              movw R24,R28
 05CC 9A93              st -y,R25
 05CE 8A93              st -y,R24
 05D0 0E940000          xcall fpmule1
 05D4 1801              movw R2,R16
 05D6 2901              movw R4,R18
 05D8 0C89              ldd R16,y+20
 05DA 1D89              ldd R17,y+21
 05DC 2E89              ldd R18,y+22
 05DE 3F89              ldd R19,y+23
 05E0 CE01              movw R24,R28
 05E2 0496              adiw R24,4
 05E4 9A93              st -y,R25
 05E6 8A93              st -y,R24
 05E8 0E940000          xcall fpmule1x
 05EC 8101              movw R16,R2
 05EE 9201              movw R18,R4
 05F0 0E940000          xcall fpadd2
 05F4 1801              movw R2,R16
 05F6 2901              movw R4,R18
 05F8 0881              ldd R16,y+0
 05FA 1981              ldd R17,y+1
 05FC 2A81              ldd R18,y+2
 05FE 3B81              ldd R19,y+3
 0600 CE01              movw R24,R28
 0602 9A93              st -y,R25
 0604 8A93              st -y,R24
 0606 0E940000          xcall fpmule1
 060A 3801              movw R6,R16
 060C 4901              movw R8,R18
 060E 0C81              ldd R16,y+4
 0610 1D81              ldd R17,y+5
 0612 2E81              ldd R18,y+6
 0614 3F81              ldd R19,y+7
 0616 CE01              movw R24,R28
 0618 0496              adiw R24,4
 061A 9A93              st -y,R25
 061C 8A93              st -y,R24
 061E 0E940000          xcall fpmule1x
 0622 8301              movw R16,R6
 0624 9401              movw R18,R8
 0626 0E940000          xcall fpadd2x
 062A 8101              movw R16,R2
 062C 9201              movw R18,R4
 062E 0E940000          xcall fpdiv2
 0632 CE01              movw R24,R28
 0634 4896              adiw R24,24
 0636 9A93              st -y,R25
 0638 8A93              st -y,R24
 063A 0E940000          xcall fpmule1
 063E 0887              std y+8,R16
 0640 1987              std y+9,R17
 0642 2A87              std y+10,R18
 0644 3B87              std y+11,R19
 0646                   .dbline 162
 0646           ;         R = -2.600288*R*R+0.916240*R;
 0646 00E0              ldi R16,<L66
 0648 10E0              ldi R17,>L66
 064A 0E940000          xcall lpm32
 064E CE01              movw R24,R28
 0650 0896              adiw R24,8
 0652 9A93              st -y,R25
 0654 8A93              st -y,R24
 0656 0E940000          xcall fpmule1
 065A CE01              movw R24,R28
 065C 0896              adiw R24,8
 065E 9A93              st -y,R25
 0660 8A93              st -y,R24
 0662 0E940000          xcall fpmule1
 0666 1801              movw R2,R16
 0668 2901              movw R4,R18
 066A 00E0              ldi R16,<L67
 066C 10E0              ldi R17,>L67
 066E 0E940000          xcall lpm32
 0672 CE01              movw R24,R28
 0674 0896              adiw R24,8
 0676 9A93              st -y,R25
 0678 8A93              st -y,R24
 067A 0E940000          xcall fpmule1x
 067E 8101              movw R16,R2
 0680 9201              movw R18,R4
 0682 0E940000          xcall fpadd2
 0686 0887              std y+8,R16
 0688 1987              std y+9,R17
 068A 2A87              std y+10,R18
 068C 3B87              std y+11,R19
 068E                   .dbline 164
 068E           ;         
 068E           ;         X = (b*c-a*d)/(c*c+d*d)*k;
 068E 0C89              ldd R16,y+20
 0690 1D89              ldd R17,y+21
 0692 2E89              ldd R18,y+22
 0694 3F89              ldd R19,y+23
 0696 CE01              movw R24,R28
 0698 9A93              st -y,R25
 069A 8A93              st -y,R24
 069C 0E940000          xcall fpmule1
 06A0 1801              movw R2,R16
 06A2 2901              movw R4,R18
 06A4 0889              ldd R16,y+16
 06A6 1989              ldd R17,y+17
 06A8 2A89              ldd R18,y+18
 06AA 3B89              ldd R19,y+19
 06AC CE01              movw R24,R28
 06AE 0496              adiw R24,4
 06B0 9A93              st -y,R25
 06B2 8A93              st -y,R24
 06B4 0E940000          xcall fpmule1x
 06B8 8101              movw R16,R2
 06BA 9201              movw R18,R4
 06BC 0E940000          xcall fpsub2
 06C0 1801              movw R2,R16
 06C2 2901              movw R4,R18
 06C4 0881              ldd R16,y+0
 06C6 1981              ldd R17,y+1
 06C8 2A81              ldd R18,y+2
 06CA 3B81              ldd R19,y+3
 06CC CE01              movw R24,R28
 06CE 9A93              st -y,R25
 06D0 8A93              st -y,R24
 06D2 0E940000          xcall fpmule1
 06D6 3801              movw R6,R16
 06D8 4901              movw R8,R18
 06DA 0C81              ldd R16,y+4
 06DC 1D81              ldd R17,y+5
 06DE 2E81              ldd R18,y+6
 06E0 3F81              ldd R19,y+7
 06E2 CE01              movw R24,R28
 06E4 0496              adiw R24,4
 06E6 9A93              st -y,R25
 06E8 8A93              st -y,R24
 06EA 0E940000          xcall fpmule1x
 06EE 8301              movw R16,R6
 06F0 9401              movw R18,R8
 06F2 0E940000          xcall fpadd2x
 06F6 8101              movw R16,R2
 06F8 9201              movw R18,R4
 06FA 0E940000          xcall fpdiv2
 06FE CE01              movw R24,R28
 0700 4896              adiw R24,24
 0702 9A93              st -y,R25
 0704 8A93              st -y,R24
 0706 0E940000          xcall fpmule1
 070A 0C87              std y+12,R16
 070C 1D87              std y+13,R17
 070E 2E87              std y+14,R18
 0710 3F87              std y+15,R19
 0712                   .dbline 165
 0712           ;         X = 0.939445*X+0.003161;
 0712 00E0              ldi R16,<L60
 0714 10E0              ldi R17,>L60
 0716 0E940000          xcall lpm32
 071A CE01              movw R24,R28
 071C 0C96              adiw R24,12
 071E 9A93              st -y,R25
 0720 8A93              st -y,R24
 0722 0E940000          xcall fpmule1
 0726 1801              movw R2,R16
 0728 2901              movw R4,R18
 072A 00E0              ldi R16,<L61
 072C 10E0              ldi R17,>L61
 072E 0E940000          xcall lpm32
 0732 3A93              st -y,R19
 0734 2A93              st -y,R18
 0736 1A93              st -y,R17
 0738 0A93              st -y,R16
 073A 8101              movw R16,R2
 073C 9201              movw R18,R4
 073E 0E940000          xcall fpadd2
 0742 0C87              std y+12,R16
 0744 1D87              std y+13,R17
 0746 2E87              std y+14,R18
 0748 3F87              std y+15,R19
 074A                   .dbline 167
 074A           ;        
 074A           ;         Q=X*1.f/R*1.f;
 074A 00E0              ldi R16,<L57
 074C 10E0              ldi R17,>L57
 074E 0E940000          xcall lpm32
 0752 1801              movw R2,R16
 0754 2901              movw R4,R18
 0756 00E0              ldi R16,<L57
 0758 10E0              ldi R17,>L57
 075A 0E940000          xcall lpm32
 075E CE01              movw R24,R28
 0760 0C96              adiw R24,12
 0762 9A93              st -y,R25
 0764 8A93              st -y,R24
 0766 0E940000          xcall fpmule1
 076A CE01              movw R24,R28
 076C 0896              adiw R24,8
 076E 9A93              st -y,R25
 0770 8A93              st -y,R24
 0772 0E940000          xcall fpdiv1x
 0776 8101              movw R16,R2
 0778 9201              movw R18,R4
 077A 0E940000          xcall fpmule2
 077E 0C8F              std y+28,R16
 0780 1D8F              std y+29,R17
 0782 2E8F              std y+30,R18
 0784 3F8F              std y+31,R19
 0786                   .dbline 170
 0786           ;         
 0786           ;        
 0786           ;         return Q*100;
 0786 00E0              ldi R16,<L64
 0788 10E0              ldi R17,>L64
 078A 0E940000          xcall lpm32
 078E CE01              movw R24,R28
 0790 4C96              adiw R24,28
 0792 9A93              st -y,R25
 0794 8A93              st -y,R24
 0796 0E940000          xcall fpmule1
 079A 0E940000          xcall fpint
 079E                   .dbline -2
 079E           L65:
 079E                   .dbline 0 ; func end
 079E A096              adiw R28,32
 07A0 0E940000          xcall pop_xgset00FC
 07A4 2296              adiw R28,2
 07A6 0895              ret
 07A8                   .dbsym l Q 28 D
 07A8                   .dbsym l k 24 D
 07A8                   .dbsym l b 20 D
 07A8                   .dbsym l a 16 D
 07A8                   .dbsym l X 12 D
 07A8                   .dbsym l R 8 D
 07A8                   .dbsym l d 4 D
 07A8                   .dbsym l c 0 D
 07A8                   .dbsym r Iim0 10 i
 07A8                   .dbsym r Ire0 14 i
 07A8                   .dbsym l Uim0 46 i
 07A8                   .dbsym l Ure0 44 i
 07A8                   .dbsym l Iim 42 i
 07A8                   .dbsym l Ire 40 i
 07A8                   .dbsym l Uim 38 i
 07A8                   .dbsym r Ure 12 i
 07A8                   .dbend
 07A8                   .dbfunc e get_L_val _get_L_val fi
 07A8           ;              L -> R10,R11
                        .even
 07A8           _get_L_val::
 07A8 AA92              st -y,R10
 07AA BA92              st -y,R11
 07AC 2C97              sbiw R28,12
 07AE                   .dbline -1
 07AE                   .dbline 178
 07AE           ;         
 07AE           ;         //L=(b*c-a*d)/(c*c+d*d)*k/(2*3.14*1000);
 07AE           ;         
 07AE           ;         
 07AE           ; }
 07AE           ; 
 07AE           ; unsigned int get_L_val(void)
 07AE           ; {              
 07AE                   .dbline 180
 07AE           ;     unsigned int L;
 07AE           ;     L=L_Val_Calculation(ADC_Values[3],ADC_Values[2],ADC_Values[1],ADC_Values[0],ADC_Values_0[3],ADC_Values_0[2],ADC_Values_0[1],ADC_Values_0[0]);
 07AE 20900800          lds R2,_ADC_Values_0
 07B2 30900900          lds R3,_ADC_Values_0+1
 07B6 3B86              std y+11,R3
 07B8 2A86              std y+10,R2
 07BA 20900A00          lds R2,_ADC_Values_0+2
 07BE 30900B00          lds R3,_ADC_Values_0+2+1
 07C2 3986              std y+9,R3
 07C4 2886              std y+8,R2
 07C6 20900C00          lds R2,_ADC_Values_0+4
 07CA 30900D00          lds R3,_ADC_Values_0+4+1
 07CE 3F82              std y+7,R3
 07D0 2E82              std y+6,R2
 07D2 20900E00          lds R2,_ADC_Values_0+6
 07D6 30900F00          lds R3,_ADC_Values_0+6+1
 07DA 3D82              std y+5,R3
 07DC 2C82              std y+4,R2
 07DE 20900000          lds R2,_ADC_Values
 07E2 30900100          lds R3,_ADC_Values+1
 07E6 3B82              std y+3,R3
 07E8 2A82              std y+2,R2
 07EA 20900200          lds R2,_ADC_Values+2
 07EE 30900300          lds R3,_ADC_Values+2+1
 07F2 3982              std y+1,R3
 07F4 2882              std y+0,R2
 07F6 20910400          lds R18,_ADC_Values+4
 07FA 30910500          lds R19,_ADC_Values+4+1
 07FE 00910600          lds R16,_ADC_Values+6
 0802 10910700          lds R17,_ADC_Values+6+1
 0806 D2DC              xcall _L_Val_Calculation
 0808 5801              movw R10,R16
 080A                   .dbline 181
 080A           ;     return L;
 080A                   .dbline -2
 080A           L68:
 080A                   .dbline 0 ; func end
 080A 2C96              adiw R28,12
 080C B990              ld R11,y+
 080E A990              ld R10,y+
 0810 0895              ret
 0812                   .dbsym r L 10 i
 0812                   .dbend
 0812                   .dbfunc e get_Q_val _get_Q_val fi
 0812           ;              Q -> R10,R11
                        .even
 0812           _get_Q_val::
 0812 AA92              st -y,R10
 0814 BA92              st -y,R11
 0816 2C97              sbiw R28,12
 0818                   .dbline -1
 0818                   .dbline 185
 0818           ; }
 0818           ; 
 0818           ; unsigned int get_Q_val(void)
 0818           ; {
 0818                   .dbline 187
 0818           ;     unsigned int Q;
 0818           ;     Q=Q_Val_Calculation(ADC_Values[3],ADC_Values[2],ADC_Values[1],ADC_Values[0],ADC_Values_0[3],ADC_Values_0[2],ADC_Values_0[1],ADC_Values_0[0]);
 0818 20900800          lds R2,_ADC_Values_0
 081C 30900900          lds R3,_ADC_Values_0+1
 0820 3B86              std y+11,R3
 0822 2A86              std y+10,R2
 0824 20900A00          lds R2,_ADC_Values_0+2
 0828 30900B00          lds R3,_ADC_Values_0+2+1
 082C 3986              std y+9,R3
 082E 2886              std y+8,R2
 0830 20900C00          lds R2,_ADC_Values_0+4
 0834 30900D00          lds R3,_ADC_Values_0+4+1
 0838 3F82              std y+7,R3
 083A 2E82              std y+6,R2
 083C 20900E00          lds R2,_ADC_Values_0+6
 0840 30900F00          lds R3,_ADC_Values_0+6+1
 0844 3D82              std y+5,R3
 0846 2C82              std y+4,R2
 0848 20900000          lds R2,_ADC_Values
 084C 30900100          lds R3,_ADC_Values+1
 0850 3B82              std y+3,R3
 0852 2A82              std y+2,R2
 0854 20900200          lds R2,_ADC_Values+2
 0858 30900300          lds R3,_ADC_Values+2+1
 085C 3982              std y+1,R3
 085E 2882              std y+0,R2
 0860 20910400          lds R18,_ADC_Values+4
 0864 30910500          lds R19,_ADC_Values+4+1
 0868 00910600          lds R16,_ADC_Values+6
 086C 10910700          lds R17,_ADC_Values+6+1
 0870 F1DD              xcall _Q_Val_Calculation
 0872 5801              movw R10,R16
 0874                   .dbline 188
 0874           ;     return Q;
 0874                   .dbline -2
 0874           L75:
 0874                   .dbline 0 ; func end
 0874 2C96              adiw R28,12
 0876 B990              ld R11,y+
 0878 A990              ld R10,y+
 087A 0895              ret
 087C                   .dbsym r Q 10 i
 087C                   .dbend
 087C                   .dbfunc e Send_Data_Packet _Send_Data_Packet fV
                        .even
 087C           _Send_Data_Packet::
 087C                   .dbline -1
 087C                   .dbline 191
 087C           ; }
 087C           ; 
 087C           ; void Send_Data_Packet(void) {
 087C                   .dbline 193
 087C           ;     // 发送帧头
 087C           ;     UART_Transmit(packet.header);
 087C 00911200          lds R16,_packet
 0880 0E940000          xcall _UART_Transmit
 0884                   .dbline 196
 0884           ;     
 0884           ;     // 发送ADC数据
 0884           ;     UART_Transmit(packet.adc0H);
 0884 00911300          lds R16,_packet+1
 0888 0E940000          xcall _UART_Transmit
 088C                   .dbline 197
 088C           ;     UART_Transmit(packet.adc0L);
 088C 00911400          lds R16,_packet+2
 0890 0E940000          xcall _UART_Transmit
 0894                   .dbline 198
 0894           ;     UART_Transmit(packet.adc1H);
 0894 00911500          lds R16,_packet+3
 0898 0E940000          xcall _UART_Transmit
 089C                   .dbline 199
 089C           ;     UART_Transmit(packet.adc1L);
 089C 00911600          lds R16,_packet+4
 08A0 0E940000          xcall _UART_Transmit
 08A4                   .dbline 200
 08A4           ;       UART_Transmit(packet.adc2H);
 08A4 00911700          lds R16,_packet+5
 08A8 0E940000          xcall _UART_Transmit
 08AC                   .dbline 201
 08AC           ;     UART_Transmit(packet.adc2L);
 08AC 00911800          lds R16,_packet+6
 08B0 0E940000          xcall _UART_Transmit
 08B4                   .dbline 202
 08B4           ;       UART_Transmit(packet.adc3H);
 08B4 00911900          lds R16,_packet+7
 08B8 0E940000          xcall _UART_Transmit
 08BC                   .dbline 203
 08BC           ;     UART_Transmit(packet.adc3L);
 08BC 00911A00          lds R16,_packet+8
 08C0 0E940000          xcall _UART_Transmit
 08C4                   .dbline 205
 08C4           ;       
 08C4           ;       UART_Transmit(packet.LH);
 08C4 00912300          lds R16,_packet+17
 08C8 0E940000          xcall _UART_Transmit
 08CC                   .dbline 206
 08CC           ;     UART_Transmit(packet.LL);
 08CC 00912400          lds R16,_packet+18
 08D0 0E940000          xcall _UART_Transmit
 08D4                   .dbline 207
 08D4           ;       UART_Transmit(packet.QH);
 08D4 00912500          lds R16,_packet+19
 08D8 0E940000          xcall _UART_Transmit
 08DC                   .dbline 208
 08DC           ;     UART_Transmit(packet.QL);
 08DC 00912600          lds R16,_packet+20
 08E0 0E940000          xcall _UART_Transmit
 08E4                   .dbline 210
 08E4           ;       
 08E4           ;       UART_Transmit(packet.adc00H);
 08E4 00911B00          lds R16,_packet+9
 08E8 0E940000          xcall _UART_Transmit
 08EC                   .dbline 211
 08EC           ;     UART_Transmit(packet.adc00L);
 08EC 00911C00          lds R16,_packet+10
 08F0 0E940000          xcall _UART_Transmit
 08F4                   .dbline 212
 08F4           ;     UART_Transmit(packet.adc10H);
 08F4 00911D00          lds R16,_packet+11
 08F8 0E940000          xcall _UART_Transmit
 08FC                   .dbline 213
 08FC           ;     UART_Transmit(packet.adc10L);
 08FC 00911E00          lds R16,_packet+12
 0900 0E940000          xcall _UART_Transmit
 0904                   .dbline 214
 0904           ;       UART_Transmit(packet.adc20H);
 0904 00911F00          lds R16,_packet+13
 0908 0E940000          xcall _UART_Transmit
 090C                   .dbline 215
 090C           ;     UART_Transmit(packet.adc20L);
 090C 00912000          lds R16,_packet+14
 0910 0E940000          xcall _UART_Transmit
 0914                   .dbline 216
 0914           ;       UART_Transmit(packet.adc30H);
 0914 00912100          lds R16,_packet+15
 0918 0E940000          xcall _UART_Transmit
 091C                   .dbline 217
 091C           ;     UART_Transmit(packet.adc30L);
 091C 00912200          lds R16,_packet+16
 0920 0E940000          xcall _UART_Transmit
 0924                   .dbline 220
 0924           ;     
 0924           ;     // 发送帧尾
 0924           ;     UART_Transmit(packet.footer);
 0924 00912700          lds R16,_packet+21
 0928 0E940000          xcall _UART_Transmit
 092C                   .dbline 221
 092C           ;       UART_Transmit(packet.footer);
 092C 00912700          lds R16,_packet+21
 0930 0E940000          xcall _UART_Transmit
 0934                   .dbline 222
 0934           ;       UART_Transmit(packet.footer);
 0934 00912700          lds R16,_packet+21
 0938                   .dbline -2
 0938           L82:
 0938                   .dbline 0 ; func end
 0938 0C940000          xjmp _UART_Transmit
 093C                   .dbend
                        .area lit(rom, con, rel)
 0000           L67:
 0000 B48E6A3F          .word 0x8eb4,0x3f6a
 0004           L66:
 0004 1E6B26C0          .word 0x6b1e,0xc026
 0008           L64:
 0008 0000C842          .word 0x0,0x42c8
 000C           L63:
 000C A44EC645          .word 0x4ea4,0x45c6
 0010           L62:
 0010 00007A44          .word 0x0,0x447a
 0014           L61:
 0014 C8284F3B          .word 0x28c8,0x3b4f
 0018           L60:
 0018 787F703F          .word 0x7f78,0x3f70
 001C           L59:
 001C 00000000          .word 0x0,0x0
 0020           L58:
 0020 14AF183F          .word 0xaf14,0x3f18
 0024           L57:
 0024 0000803F          .word 0x0,0x3f80
 0028           ; }
